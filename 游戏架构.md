# 阴阳劫游戏项目结构图

## 项目概述
这是一个基于HTML5 Canvas的2D平台跳跃游戏，主题为"阴阳劫"，玩家可以在阴阳两种环境中切换，体验不同的游戏机制。

## 项目根目录结构
```
D:\github游戏\
├── index.html                    # 主入口页面（登录/注册界面）
├── 代码备忘录.md                 # 项目代码说明文档
├── 关卡管理说明.md               # 关卡管理相关说明
├── src/                         # 源代码目录
│   └── auth/                    # 认证模块
│       └── auth.js              # 用户认证逻辑
├── styles/                      # 样式文件目录
│   └── style.css                # 主样式文件
├── video/                       # 视频资源目录
└── work/                        # 游戏核心工作目录
    ├── about-us/                # 关于我们页面
    ├── bgms/                    # 背景音乐资源
    ├── images/                  # 游戏图片资源
    ├── js/                      # JavaScript游戏逻辑
    ├── map/                     # 地图配置文件
    └── sound/                   # 音效资源
```

## 详细目录结构

### 1. 主入口文件
- **index.html**: 游戏主入口，包含登录/注册界面和主菜单
- **styles/style.css**: 主界面样式文件

### 2. 认证系统 (src/auth/)
- **auth.js**: 用户登录、注册、密码验证等认证功能

### 3. 游戏核心模块 (work/)

#### 3.1 关于我们页面 (about-us/)
```
about-us/
├── index.html           # 团队成员展示主页
├── style.css           # 团队成员页面样式
├── member-style.css    # 成员详情页样式
├── script.js           # 页面交互脚本
├── member1.html        # 成员1详情页
├── member2.html        # 成员2详情页
├── member3.html        # 成员3详情页
├── member4.html        # 成员4详情页
├── member5.html        # 成员5详情页
├── member6.html        # 成员6详情页
└── images/             # 成员头像图片
    ├── member1.jpg
    ├── member2.jpg
    ├── member3.jpg
    ├── member4.jpg
    ├── member5.jpg
    └── member6.jpg
```

#### 3.2 音频资源 (bgms/ & sound/)
```
bgms/                   # 背景音乐
├── bg1.mp3
├── bg2.mp3
└── bg3.mp3

sound/                  # 游戏音效
├── change.mp3          # 环境切换音效
├── death.mp3           # 死亡音效
├── enemydeath.mp3      # 敌人死亡音效
├── explode.wav         # 爆炸音效
├── fallog.mp3          # 掉落音效
├── five_beeps.MP3      # 提示音效
├── jump.mp3            # 跳跃音效
├── move.mp3            # 移动音效
├── typing.mp3          # 打字音效
└── wood_snap.wav       # 木头断裂音效
```

#### 3.3 图片资源 (images/)
```
images/
├── 游戏角色与敌人/
│   ├── player.png          # 玩家角色
│   ├── enemy-black.png     # 黑色敌人
│   ├── enemy-white.png     # 白色敌人
│   ├── enemy2.png          # 敌人类型2
│   ├── enemy21.png         # 敌人类型2变体1
│   ├── enemy22.png         # 敌人类型2变体2
│   ├── boss.png            # Boss角色
│   ├── boss2.png           # Boss角色变体
│   ├── boss-dash.png       # Boss冲刺状态
│   └── boss-dash2.png      # Boss冲刺状态变体
├── 游戏道具与机关/
│   ├── bagua.png           # 八卦图
│   ├── baguazhen.png       # 八卦阵
│   ├── taiji.png           # 太极图
│   ├── trampoline_black.png # 黑色蹦床
│   ├── trampoline_white.png # 白色蹦床
│   ├── portal.png          # 传送门
│   ├── point.png           # 得分点
│   └── vine1-5.png         # 藤蔓1-5
├── 地图与背景/
│   ├── map1.png            # 地图1
│   ├── tile.png            # 地图瓦片
│   ├── start1-3.jpg        # 开始界面背景1-3
│   ├── jiaoxuebg.jpg       # 教学关背景
│   └── lib2.png            # 图书馆背景
├── 特效与粒子/
│   ├── fratile1-5.png      # 碎片特效1-5
│   ├── Explosion.js        # 爆炸特效
│   └── LavaParticle.js     # 熔岩粒子特效
├── UI界面元素/
│   ├── diagbg1-4.png       # 对话框背景1-4
│   ├── die.png             # 死亡界面
│   ├── hitbox.png          # 碰撞箱显示
│   └── hurt_box.png        # 伤害判定框
├── 教学关卡/
│   ├── jiaoxue1.png        # 教学关图片1
│   └── jiaoxue2.png        # 教学关图片2
└── cg插图/                 # 剧情插图
    ├── 主线背景.jpg
    ├── 开场/
    │   ├── 宗门.jpg
    │   ├── 打斗.jpg
    │   └── 结束.jpg
    ├── 教学关背景.jpg
    ├── 过场/
    │   ├── 古塔.jpg
    │   └── 赶路.jpg
    └── 结局/
```

#### 3.4 地图配置 (map/)
```
map/
├── begin.json           # 开始关卡
├── test_1.json          # 测试关卡1
├── test_2.json          # 测试关卡2
├── jiaoxue1.json        # 教学关卡1
├── jiaoxue2.json        # 教学关卡2
├── bg-map1.json         # 背景地图1
├── bg-map2.json         # 背景地图2
├── bg-map3.json         # 背景地图3
├── bg-map4.json         # 背景地图4
├── bg4.json             # 背景4
├── bgtest.json          # 背景测试
└── zhengshi_2.json      # 正式关卡2
```

#### 3.5 JavaScript游戏逻辑 (js/)
```
js/
├── 核心游戏文件/
│   ├── game.js              # 游戏主类，核心逻辑控制器
│   ├── game.html            # 游戏页面
│   ├── game-style.css       # 游戏界面样式
│   └── game-ui.js           # 游戏UI管理
├── 关卡管理/
│   ├── level-select.html    # 关卡选择页面
│   ├── level-select.js      # 关卡选择逻辑
│   ├── level-select-style.css # 关卡选择样式
│   └── init-config.js       # 关卡配置初始化
├── 管理器模块/
│   ├── datamanager.js       # 数据管理器（JSON、图片加载）
│   ├── mapmanager.js        # 地图管理器
│   ├── entitymanager.js     # 实体管理器（玩家、敌人等）
│   ├── inputmanager.js      # 输入管理器（键盘控制）
│   ├── eventmanager.js      # 事件管理器
│   ├── soundmanager.js      # 音效管理器
│   ├── bgmmanager.js        # 背景音乐管理器
│   ├── savemanager.js       # 存档管理器
│   ├── cgmanager.js         # CG剧情管理器
│   ├── nightmanager.js      # 夜晚模式管理器
│   ├── TaijiManager.js      # 太极管理器
│   └── AnimationManager.js  # 动画管理器
├── 游戏对象/
│   ├── Sprite.js            # 精灵基类
│   ├── Boss.js              # Boss类
│   ├── diveBoss.js          # 潜水Boss类
│   ├── enemy.js             # 敌人类
│   ├── enemy2.js            # 敌人类型2
│   ├── Fratile.js           # 碎片类
│   ├── Trampoline.js        # 蹦床类
│   ├── Movetile.js          # 移动平台类
│   └── Explosion.js         # 爆炸特效类
├── 游戏系统/
│   ├── hp.js                # 血量系统
│   ├── achievements.js      # 成就系统
│   ├── bagua.js             # 八卦系统
│   ├── dialog.js            # 对话框系统
│   ├── draw.js              # 绘制系统
│   └── Util.js              # 工具类
├── 测试文件/
│   ├── hp-test.html         # 血量系统测试
│   ├── tr.html              # 测试页面
│   ├── dialog-test-standalone.html # 对话框测试
│   └── test-narration-dialog.js    # 旁白对话框测试
├── 样式文件/
│   ├── dialog-style.css     # 对话框样式
│   └── game-style.css       # 游戏样式
├── 数据文件/
│   ├── yang-right-0.json    # 阳环境数据
│   └── ying-data.json       # 阴环境数据
└── 文档/
    └── REFACTOR_SUMMARY.md  # 重构总结文档
```

## 游戏核心架构

### 主要类说明
- **game类**: 游戏主控制器，管理所有子系统
- **datamanager**: 负责加载JSON配置、图片资源
- **mapmanager**: 地图加载、碰撞检测、瓦片渲染
- **entitymanager**: 玩家移动、动画、碰撞检测
- **inputmanager**: 键盘输入处理
- **eventmanager**: 游戏事件处理（传送、切换等）
- **soundmanager**: 音效播放管理
- **bgmmanager**: 背景音乐管理
- **savemanager**: 游戏存档管理
- **dialog**: 对话框系统
- **achievements**: 成就系统
- **TaijiManager**: 太极阴阳切换系统

### 游戏特色系统
1. **阴阳切换机制**: 玩家可以在阳环境和阴环境之间切换
2. **八卦系统**: 基于八卦图的特殊游戏机制
3. **成就系统**: 玩家成就收集和展示
4. **存档系统**: 游戏进度保存和读取
5. **CG剧情系统**: 过场动画和剧情展示
6. **夜晚模式**: 特殊的游戏模式